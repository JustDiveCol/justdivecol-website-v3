/* src/index.css */

/* 1. Importa las directivas base de Tailwind */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================================================
   2. ESTILOS BASE Y SOBREESCRITURAS
   ========================================================================== */
@layer base {
  /* safe areas globales */
  :root {
    --safe-top: env(safe-area-inset-top, 0px);
    --safe-bottom: env(safe-area-inset-bottom, 0px);
    /* Permite overrides por sección */
    --section-pt: theme(spacing.section-sm);
    --section-pb: theme(spacing.section-sm);
  }

  body {
    /* Aplicamos la fuente sans-serif por defecto a todo el cuerpo */
    @apply font-sans bg-brand-primary-dark text-brand-neutral;
  }

  /* Los encabezados usarán la fuente por defecto (Montserrat) */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-sans;
  }

  /* Los textos principales, enlaces y botones usarán la fuente serif (Lora) */
  p,
  span,
  small,
  li,
  a,
  button,
  input,
  select,
  textarea {
    @apply font-serif;
  }

  a {
    @apply transition-colors duration-200;
  }
}

/* ==========================================================================
   3. CLASES DE COMPONENTES PERSONALIZADOS
   ========================================================================== */
@layer components {
  /* --- Clases para encabezados --- */
  .heading-1 {
    @apply text-4xl sm:text-5xl md:text-6xl lg:text-7xl leading-tight font-extrabold uppercase tracking-tight;
  }
  .heading-2 {
    @apply text-2xl sm:text-4xl md:text-5xl leading-tight font-bold uppercase tracking-tight;
  }
  .heading-3 {
    @apply text-2xl sm:text-3xl md:text-4xl leading-snug font-semibold uppercase tracking-tight;
  }
  .heading-4 {
    @apply text-xl sm:text-2xl md:text-3xl leading-snug font-semibold uppercase tracking-tight;
  }
  .heading-5 {
    @apply text-lg sm:text-xl md:text-2xl leading-snug font-semibold uppercase tracking-tight;
  }
  .heading-6 {
    @apply text-base sm:text-lg md:text-xl leading-snug font-semibold uppercase tracking-tight;
  }

  /* --- Clases para texto --- */
  .text-subtitle {
    @apply text-base sm:text-lg md:text-xl lg:text-2xl leading-relaxed font-serif mt-4 max-w-4xl mx-auto text-brand-neutral;
  }
  .text-base-md {
    @apply text-base sm:text-lg md:text-xl lg:text-2xl leading-relaxed;
  }
  .text-button {
    @apply text-base sm:text-lg md:text-xl font-bold uppercase tracking-wide font-serif;
  }
  .text-link {
    @apply underline underline-offset-2 hover:text-brand-cta-orange;
  }

  /* --- Clases para formularios --- */
  .form-input {
    @apply px-4 py-2 rounded-md border border-gray-600 bg-brand-primary-dark shadow-sm focus:outline-none focus:ring-2 focus:ring-brand-cta-orange;
  }
  .form-button {
    @apply text-sm font-semibold rounded-md px-4 py-2 transition-colors duration-200;
  }

  /* Wrapper de sección consistente (mobile-first) */
  .section {
    @apply container max-w-content px-4 md:px-5;
    padding-top: var(--section-pt);
    padding-bottom: var(--section-pb);
  }

  /* utilidades para safe areas (útil con Nav fijo) */
  .safe-pt {
    padding-top: calc(1rem + var(--safe-top));
  }
  .safe-pb {
    padding-bottom: calc(1rem + var(--safe-bottom));
  }

  /* escalado de ritmo vertical por breakpoints */
  @screen md {
    .section {
      --section-pt: theme(spacing.section-md);
      --section-pb: theme(spacing.section-md);
    }
  }
  @screen lg {
    .section {
      --section-pt: theme(spacing.section-lg);
      --section-pb: theme(spacing.section-lg);
    }
  }
}

/* ==========================================================================
   4. UTILIDADES Y ESTILOS ESPECÍFICOS
   ========================================================================== */
@layer utilities {
  .min-h-hero {
    /* usar dvh para evitar bugs en iOS con barras dinámicas */
    min-height: calc(
      100dvh - 5rem
    ); /* ajustaremos '5rem' cuando definamos la altura real del Navbar */
  }
}

/* --- Estilos para Maplibre GL --- */
.maplibregl-popup {
  max-width: 600px !important;
  z-index: 50;
}
.maplibregl-popup-content {
  background: transparent !important;
  padding: 0 !important;
  box-shadow: none !important;
  border-radius: 0.75rem !important; /* 12px */
}
.maplibregl-popup-close-button {
  font-size: 24px !important;
  color: white !important; /* Ejemplo de mejora de visibilidad */
}

/* --- Otras utilidades --- */
img,
a {
  -webkit-user-drag: none;
  user-drag: none;
}
